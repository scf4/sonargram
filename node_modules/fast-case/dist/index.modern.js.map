{"version":3,"file":"index.modern.js","sources":["../src/index.ts"],"sourcesContent":["const CHAR_UPPER_A = 0x41\nconst CHAR_LOWER_A = 0x61\nconst CHAR_UPPER_Z = 0x5a\nconst CHAR_LOWER_Z = 0x7a\nconst CHAR_0 = 0x30\nconst CHAR_9 = 0x39\nconst CHAR_MINUS = 0x2d\nconst CHAR_SPACE = 0x20\nconst CHAR_UNDERSCORE = 0x5f\n\ntype ObjectOrArray = Record<string, unknown> | Array<unknown>\n\nfunction isUpper(c: number) {\n  return CHAR_UPPER_A <= c && c <= CHAR_UPPER_Z\n}\n\nfunction isLower(c: number) {\n  return CHAR_LOWER_A <= c && c <= CHAR_LOWER_Z\n}\n\nfunction isDigit(c: number) {\n  return CHAR_0 <= c && c <= CHAR_9\n}\n\nfunction toUpper(c: number) {\n  return c - 0x20\n}\n\nfunction toLower(c: number) {\n  return c + 0x20\n}\n\nexport function camelize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (isDigit(firstChar) || firstChar === CHAR_MINUS || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = isUpper(firstChar)\n  const transformed = changed ? [toLower(firstChar)] : [firstChar]\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    let c = str.charCodeAt(i)\n\n    if (c === CHAR_UNDERSCORE || c === CHAR_SPACE || c === CHAR_MINUS) {\n      changed = true\n      c = str.charCodeAt(++i)\n\n      if (isNaN(c)) {\n        return str\n      }\n\n      if (isLower(c)) {\n        transformed.push(toUpper(c))\n      } else {\n        transformed.push(c)\n      }\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function decamelize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (!isLower(firstChar) || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = false\n  const transformed = [firstChar]\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    const c = str.charCodeAt(i)\n\n    if (isUpper(c)) {\n      changed = true\n      transformed.push(CHAR_UNDERSCORE)\n      transformed.push(toLower(c))\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function pascalize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (isDigit(firstChar) || firstChar === CHAR_MINUS || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = isLower(firstChar)\n  const transformed = changed ? [toUpper(firstChar)] : [firstChar]\n\n  const len = str.length\n  for (let i = 1; i < len; i++) {\n    let c = str.charCodeAt(i)\n\n    if (c === CHAR_UNDERSCORE || c === CHAR_SPACE || c === CHAR_MINUS) {\n      changed = true\n      c = str.charCodeAt(++i)\n\n      if (isNaN(c)) {\n        return str\n      }\n\n      if (isLower(c)) {\n        transformed.push(toUpper(c))\n      } else {\n        transformed.push(c)\n      }\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function depascalize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (!isUpper(firstChar) || isNaN(firstChar)) {\n    return str\n  }\n\n  const transformed = [toLower(firstChar)]\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    const c = str.charCodeAt(i)\n\n    if (isUpper(c)) {\n      transformed.push(CHAR_UNDERSCORE)\n      transformed.push(toLower(c))\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nfunction isObjectOrArray(value: unknown): value is ObjectOrArray {\n  return value && typeof value === 'object' && !(value instanceof Function) && !(value instanceof Date)\n}\n\nfunction transformArray(array: Array<unknown>, transform: (key: string) => string) {\n  const length = array.length\n  const transformed = new Array(length)\n  let idx = 0\n  for (const item of array) {\n    transformed[idx++] = isObjectOrArray(item) ? transformKeys(item, transform) : item\n  }\n  return transformed\n}\n\nfunction transformKeys(obj: ObjectOrArray | Array<unknown>, transform: (key: string) => string) {\n  if (Array.isArray(obj)) {\n    return transformArray(obj, transform)\n  }\n\n  if (typeof obj.prototype !== 'undefined') {\n    return obj\n  }\n\n  const transformed: Record<string, unknown> = {}\n  for (const key in obj) {\n    const value = obj[key]\n    const nextKey = transform(key)\n    transformed[nextKey] = isObjectOrArray(value) ? transformKeys(value, transform) : value\n  }\n  return transformed\n}\n\nfunction transformArrayInPlace(array: Array<unknown>, transform: (key: string) => string) {\n  let idx = 0\n  for (const item of array) {\n    array[idx++] = isObjectOrArray(item) ? transformKeysInPlace(item, transform) : item\n  }\n  return array\n}\n\nfunction transformKeysInPlace(obj: ObjectOrArray, transform: (key: string) => string) {\n  if (Array.isArray(obj)) {\n    return transformArrayInPlace(obj, transform)\n  }\n\n  for (const key in obj) {\n    const value = obj[key]\n    const nextKey = transform(key)\n\n    if (nextKey !== key) {\n      delete obj[key]\n    }\n\n    obj[nextKey] = isObjectOrArray(value) ? transformKeysInPlace(value, transform) : value\n  }\n\n  return obj\n}\n\nexport function camelizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, camelize)\n}\n\nexport function decamelizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, decamelize)\n}\n\nexport function pascalizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, pascalize)\n}\n\nexport function depascalizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, depascalize)\n}\n\nexport function camelizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, camelize)\n}\n\nexport function decamelizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, decamelize)\n}\n\nexport function pascalizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, pascalize)\n}\n\nexport function depascalizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, depascalize)\n}\n"],"names":["isUpper","c","isLower","isDigit","toUpper","toLower","camelize","str","firstChar","charCodeAt","isNaN","changed","transformed","length","i","push","String","fromCharCode","apply","undefined","decamelize","pascalize","len","depascalize","isObjectOrArray","value","Function","Date","transformKeys","obj","transform","Array","isArray","array","idx","item","transformArray","prototype","key","transformKeysInPlace","transformArrayInPlace","nextKey","camelizeKeys","decamelizeKeys","pascalizeKeys","depascalizeKeys","camelizeKeysInPlace","decamelizeKeysInPlace","pascalizeKeysInPlace","depascalizeKeysInPlace"],"mappings":"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"}